export type Tournament = { // TODO - Make homescreen use this
    name: string;
    isComplete: boolean;
}

export type Fencer = {
    id?: number; // id is auto-generated by sqlite
    firstName: string;
    lastName: string;
    nickname?: string;

    epeeRating?: string | 'U' | 'E' | 'D' | 'C' | 'B' | 'A'; // TODO Ratings should prob be their own type
    epeeYear?: number;
    foilRating?: string | 'U' | 'E' | 'D' | 'C' | 'B' | 'A';
    foilYear?: number;
    saberRating?: string | 'U' | 'E' | 'D' | 'C' | 'B' | 'A';
    saberYear?: number;
};

export type Referee = {
    id: number;
    firstName: string;
    lastName: string;
    nickname?: string;
};

export type RoundData = {
    roundType: 'Pools' | 'DE';
    promotion?: number;
    poolsOption?: 'promotion' | 'target';
    targetBracketSize?: number;
    eliminationFormat?: 'single' | 'double' | 'compass';
};

export type Event = {
    id: number;
    name: string;
    gender: string;
    weapon: string;
    age: string;
    rounds: RoundData[];
    fencers: Fencer[];
    poolCount: number;
    fencersPerPool: number;
};

export type DEBracketMatch = {
    fencerA: Fencer | undefined;
    fencerB: Fencer | undefined;
    round: number;      // Round number (1 = first round, etc.)
    matchIndex: number; // The index within that round
    winner?: Fencer;
    scoreA?: number;
    scoreB?: number;
};

// Import DEBracketData from your RoundAlgorithms (if needed)
import { DEBracketData } from '../utils/RoundAlgorithms';

export type RootStackParamList = {
    HomeTabs: undefined;
    EventManagment: { tournamentName: string };
    EventSettings: { event: Event; onSave: (updatedEvent: Event) => void };
    RefereeModule: {
        boutIndex: number;
        fencer1Name: string;
        fencer2Name: string;
        currentScore1: number;
        currentScore2: number;
        onSaveScores: (score1: number, score2: number) => void;
        EventManagment: { tournamentName: string };
        EventSettings: { event: Event; onSave: (updatedEvent: Event) => void };
        RefereeModule: {
            boutIndex: number;
            fencer1Name: string;
            fencer2Name: string;
            currentScore1: number;
            currentScore2: number;
            onSaveScores?: (score1: number, score2: number) => void;
        };
        PoolsPage: {
            event: Event;
            currentRoundIndex: number;
            fencers: Fencer[];
            poolCount: number;
            fencersPerPool: number;
        };
        BoutOrderPage: {
            poolFencers: Fencer[];
            updatedBout?: { boutIndex: number; score1: number; score2: number };
        };
        DEBracketPage: { event: Event; currentRoundIndex: number; bracketData: DEBracketData };
        HostTournament: undefined;
        JoinTournament: undefined;
        BracketViewPage: { bracketData: DEBracketData; event: Event };
    };
};
